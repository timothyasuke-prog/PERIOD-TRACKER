<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Period Tracker</title>
  <link rel="stylesheet" href="styles.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
  <header class="topbar">
  <link rel="manifest" href="manifest.json">
  <script src="app.js" defer></script>
    <div class="actions">
      <button id="toggle-theme">Toggle Theme</button>
      <button id="lock-btn">Set / Lock PIN</button>
  <a href="admin.html" class="admin-link">Admin</a>
  <button id="install-btn" style="display:none">Install App</button>
    </div>
  </header>

  <main class="container">
    <section class="left">
      <div id="calendar"></div>
      <div class="controls">
        <button id="prev-month">‹</button>
        <span id="month-label"></span>
        <button id="next-month">›</button>
      </div>
    </section>

    <section class="right">
  <h3>Settings</h3>
  <label>Last period date: <input id="setting-last" type="date" /></label>
  <label>Avg cycle length (days): <input id="setting-cycle" type="number" min="20" max="45" /></label>
  <label>Period length (days): <input id="setting-period-length" type="number" min="1" max="10" /></label>
  <label>BMI: <input id="setting-weight" type="number" placeholder="kg"/> kg <input id="setting-height" type="number" placeholder="cm"/> cm <button id="calc-bmi">Calculate BMI</button> <span id="bmi-result"></span></label>

      <h2>Day Details</h2>
      <div id="day-details">
        <p>Select a day on the calendar.</p>
      </div>

      <h3>Diary / Journal</h3>
      <textarea id="diary-text" placeholder="Private notes for selected day"></textarea>
      <button id="save-diary">Save Note</button>

      <h3>Packing List (for period week)</h3>
      <div id="packing-list">
        <label><input type="checkbox" value="pads"> Pads
        <label><input type="checkbox" value="tampons"> Tampons
        <label><input type="checkbox" value="painkillers"> Painkillers
        <label><input type="checkbox" value="heat-pad"> Heat pad
        <label><input type="checkbox" value="underwear-change"> Extra underwear
      </div>
      <button id="save-packing">Save Packing List</button>

      <h3>Announcements</h3>
      <div id="announcements">Loading announcements...</div>

      <h3>Logs</h3>
      <button id="export-pdf">Export Logs as PDF</button>
  <button id="export-json">Export JSON</button>
  <input id="import-file" type="file" accept="application/json" />

  <h3>Reminders</h3>
  <input id="reminder-text" placeholder="Reminder text" />
  <input id="reminder-time" type="datetime-local" />
  <button id="add-reminder">Add Reminder</button>
  <div id="reminders-list"></div>

      <h3>Privacy</h3>
      <label><input type="checkbox" id="privacy-toggle"> Mask sensitive data</label>

      <h3>Anonymous Feedback</h3>
      <textarea id="feedback-text" placeholder="Leave anonymous feedback"></textarea>
      <button id="send-feedback">Send Feedback</button>

      <h3>Tips</h3>
      <div id="tips">Loading tips...</div>
    </section>
  </main>

    <!-- PIN modal -->
    <div id="pin-modal" class="modal" style="display:none">
      <div class="modal-content">
        <h3 id="pin-modal-title">Enter PIN</h3>
        <input id="pin-input" type="password" placeholder="PIN" />
        <div>
          <button id="pin-ok">OK</button>
          <button id="pin-cancel">Cancel</button>
        </div>
      </div>
    </div>
  <footer>
  <small>All data stored locally in your browser. No account required.</small>
  <div class="copyright">© 2025 Period Tracker. All rights reserved.</div>
  </footer>

  <script src="app.js" defer></script>
  <script>
    if('serviceWorker' in navigator){
      navigator.serviceWorker.register('sw.js').catch(()=>console.warn('SW register failed'))
    }
  </script>
</body>
</html>
